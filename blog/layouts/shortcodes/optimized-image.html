{{/* optimized-image.html */}}

{{ $src := .Get "src" }}
{{ $width := .Get "width" | default "400" }}
{{ $alt := .Get "alt" | default "" }}

{{ $img := resources.Get $src }}

{{ if not $img }}
  <p style="color:red">Error: image '{{ $src }}' not found in assets/</p>
{{ else }}
  {{ $resized := $img.Resize (printf "%sx q80" $width) }}
  <img src="{{ $resized.RelPermalink }}" alt="{{ $alt }}" style="width:100%; height:200px; object-fit:cover; border-radius:8px;">
{{ end }}
